{% extends 'core/base.html' %}

{% load static from staticfiles %}




{% block scripts %}
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCP0JK81U42v3tfz6ljPsnE9TJ3RQnM568&callback=initMap" async defer></script>
<script>
var map;
var i =0;



function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: 42.5245603, lng: -8.8171341 },
    zoom: 11,
    });

    var marker = new google.maps.Marker({
        position: {lat: 42.4443161, lng: -8.7840634},
        map: map,
        title: 'Concello de Meaño'
        
    });

    var contentString = 

'prueba\
<div id="content">\
      <div id="siteNotice">\
      </div>\
      {% for event in events %}\
      <h1 id="firstHeading" class="firstHeading">MEAÑO</h1>\
      <div id="bodyContent">\
      <p>Próximos eventos:</p>\
  {{ event.description }}\
  {% endfor %}\
      </div>\
      </div>\
      ';

    var infowindow = new google.maps.InfoWindow({
    content: contentString
    });

    marker.addListener('click', function() {
    infowindow.open(map, marker);
    });

}


</script>

{% endblock %}

{% block content %}
    <div id ="map"> </div> 

{% endblock %}